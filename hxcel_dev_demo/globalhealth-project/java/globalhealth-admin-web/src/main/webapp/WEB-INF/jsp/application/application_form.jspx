<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:spring="http://www.springframework.org/tags"
          xmlns:spring-form="http://www.springframework.org/tags/form"
          xmlns:security="http://www.springframework.org/security/tags"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:x="http://java.sun.com/jsp/jstl/xml"
          xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
          xmlns:tiles="http://tiles.apache.org/tags-tiles"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions" version="2.0">
    <jsp:directive.page pageEncoding="UTF-8" contentType="text/html; charset=UTF-8"/>

    <spring:message var="option1" code="form.select" text="-- Please Select --"/>

    <c:choose>
        <c:when test="${platform == true}">
            <spring:message var="titleName" code="page.platform.edit" text="Platform information"/>
        </c:when>
        <c:otherwise>
            <spring:message var="titleName" code="page.application.edit" text="Application information"/>
        </c:otherwise>
    </c:choose>

    <spring-form:form id="form" commandName="application" action="/secure/application/edit.admin" method="POST">

        <table cellpadding="0" cellspacing="2" border="0" width="100%">
            <tr>
                <td>&#160;</td>
                <td><spring-form:errors path="name" cssClass="errors"/></td>
            </tr>
            <tr>
                <td width="100" class="form_text"><spring:message code="application.name" text="Name"/>:&#160;</td>
                <td width="150"><spring-form:input path="name" cssClass="textInput"/><span class="required">&#160;*</span></td>
            </tr>
            <tr>
                <td>&#160;</td>
                <td><spring-form:errors path="appVersion" cssClass="errors"/></td>
            </tr>
            <tr>
                <td class="form_text"><spring:message code="application.version" text="Version"/>:&#160;</td>
                <td>
                    <spring-form:input path="appVersion" cssClass="textInput"/>
                    <span class="required">&#160;*</span>
                </td>
            </tr>
            <tr>
                <td>&#160;</td>
                <td><spring-form:errors path="owner" cssClass="errors"/></td>
            </tr>
            <tr>
                <td class="form_text"><spring:message code="application.owner" text="Owner"/>:&#160;</td>
                <td>
                    <spring-form:select path="owner" cssClass="textInput">
                        <spring-form:option value="" label="${option1}"/>
                        <spring-form:options items="${organizations}" itemValue="key" itemLabel="value"/>
                    </spring-form:select><span class="required">&#160;*</span>
                </td>
            </tr>
            <c:if test="${platform == false}">
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="applicationType" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="application.type" text="Type"/>:&#160;</td>
                    <td>
                        <spring-form:select path="applicationType" cssClass="textInput">
                            <spring-form:option value="" label="${option1}"/>
                            <spring-form:options items="${types}"/>
                        </spring-form:select><span class="required">&#160;*</span>
                    </td>
                </tr>
            </c:if>
            <tr>
                <td>&#160;</td>
                <td><spring-form:errors path="description" cssClass="errors"/></td>
            </tr>
            <tr>
                <td class="form_text" valign="top"><spring:message code="application.description" text="Description"/>:&#160;</td>
                <td><spring-form:textarea path="description" cssClass="textArea"/></td>
            </tr>
            <tr>
                <td colspan="2">&#160;</td>
            </tr>

        </table>


        <spring-form:hidden path="id"/>
        <!-- signifies that this is an application is either a platform or application -->
        <input type="hidden" name="platform" value="${platform}"/>
        <c:if test="${platform == true}">
            <input type="hidden" name="applicationType" value="PLATFORM"/>
        </c:if>

    </spring-form:form>

</jsp:root>