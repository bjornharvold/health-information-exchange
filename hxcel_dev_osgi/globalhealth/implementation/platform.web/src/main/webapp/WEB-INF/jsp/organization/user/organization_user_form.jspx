<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:spring="http://www.springframework.org/tags"
          xmlns:spring-form="http://www.springframework.org/tags/form"
          xmlns:security="http://www.springframework.org/security/tags"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:x="http://java.sun.com/jsp/jstl/xml"
          xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
          xmlns:tiles="http://tiles.apache.org/tags-tiles"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions" version="2.0">
    <jsp:directive.page pageEncoding="UTF-8" contentType="text/html; charset=UTF-8"/>


        <spring:message var="option1" code="form.select" text="-- Please Select --"/>

        <spring-form:form id="form" commandName="organizationUserForm" action="/secure/organization/user/edit.admin" method="POST">

            <table>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.username" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td width="150" class="form_text"><spring:message code="user.username" text="Username"/>:&#160;</td>
                    <td width="250"><spring-form:input path="user.username" cssClass="textInput"/><span class="required">&#160;*</span></td>
                </tr>
                <c:if test="${organizationUserForm.user.id == null or organizationUserForm.user.id == ''}">
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.password" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.password" text="Password"/>:&#160;</td>
                    <td><spring-form:input path="user.password" cssClass="textInput"/><span class="required">&#160;*</span></td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.passwordConfirm" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.password.confirm" text="Confirm password"/>:&#160;</td>
                    <td><spring-form:input path="user.passwordConfirm" cssClass="textInput"/><span class="required">&#160;*</span></td>
                </tr>
                </c:if>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.userInfo.salutation" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.salutation" text="Salutation"/>:&#160;</td>
                    <td>
                        <spring-form:select path="user.userInfo.salutation" cssClass="textInput">
                        <spring-form:option value="" label="${option1}"/>
                        <spring-form:options items="${salutations}"/>
                    </spring-form:select><span class="required">&#160;*</span>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.userInfo.firstName" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.name.first" text="First name"/>:&#160;</td>
                    <td><spring-form:input path="user.userInfo.firstName" cssClass="textInput"/><span class="required">&#160;*</span></td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.userInfo.middleName" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.name.middle" text="Middle name"/>:&#160;</td>
                    <td><spring-form:input path="user.userInfo.middleName" cssClass="textInput"/><span class="required">&#160;*</span></td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.userInfo.lastName" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.name.last" text="Last name"/>:&#160;</td>
                    <td><spring-form:input path="user.userInfo.lastName" cssClass="textInput"/><span class="required">&#160;*</span></td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.userInfo.sex" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.sex" text="Gender"/>:&#160;</td>
                    <td>
                        <spring-form:select path="user.userInfo.sex" cssClass="textInput">
                        <spring-form:option value="" label="${option1}"/>
                        <spring-form:options items="${sexes}"/>
                    </spring-form:select><span class="required">&#160;*</span>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.country" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="organization.country" text="Country"/>:&#160;</td>
                    <td>
                        <spring-form:select path="user.country" cssClass="textInput">
                            <spring-form:option value="${option1}"/>
                            <spring-form:options items="${countries}" itemLabel="statusCode" itemValue="id"/>
                        </spring-form:select><span class="required">&#160;*</span>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><spring-form:errors path="user.userStatus" cssClass="errors"/></td>
                </tr>
                <tr>
                    <td class="form_text"><spring:message code="user.status" text="Status"/>:&#160;</td>
                    <td>
                        <spring-form:select path="user.userStatus" cssClass="textInput">
                        <spring-form:option value="" label="${option1}"/>
                        <spring-form:options items="${statuses}"/>
                    </spring-form:select><span class="required">&#160;*</span>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <spring-form:hidden path="id"/>
                        <!-- I am doing this explicitly to keep up the standards
                            the first organization goes with the form object and will be used
                            by the property editor. the second is the string representation -->
                        <input type="hidden" name="organization" value="${organization.id}"/>
                        <input type="hidden" name="organizationId" value="${organization.id}"/>
                    </td>
                </tr>
            </table>

        </spring-form:form>

</jsp:root>